<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href="stylesheets/prettify.css" type="text/css" rel="stylesheet"/>
    <script type="text/javascript" src="javascripts/prettify.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/properties.js"></script>

    <title>Setting up Selendroid</title>
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-1537443-9']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

    </script>

    <script type="text/javascript">
        $(document).ready(function ($) {
            buildMenu("setup");
        });
    </script>
</head>

<body onload="prettyPrint()">
<header>
    <div class="inner">
        <h1>Selendroid</h1>

        <h2>&quot;Selenium for Android Apps&quot; <br/>(Test automate native or hybrid Android apps with Selendroid.)
        </h2>
        <a href="https://github.com/selendroid/selendroid" class="button">
            <small>View project on</small>
            GitHub</a>

        <div id="menu"/>
    </div>
</header>

<div id="content-wrapper">
    <div class="inner clearfix">


        <section id="main-content">
            <div class="nav-container">
                <div class="nav">
                    <ul>
                        <li><a href="#systemRequirements">System Requirements</a></li>
                        <li><a href="#getAut">Getting a test app</a></li>
                        <li><a href="#launchingSelendroid">Launching selendroid</a></li>
                        <li><a href="#firstTest">First Test</a></li>
                        <li><a href="#androidDevices">Android Devices</a></li>

                    </ul>
                </div>
            </div>
            <br>

            <h1>Setup</h1>

            <p>Selendroid is based on the Android instrumentation framework, so only testing one specific app
                is currently supported. Selendroid can only be used if your application has the permission:
                <pre><code>
                &lt;uses-permission android:name="android.**permission.INTERNET"/&gt;
                </code></pre>
                Like the Selenium project, we offer as well jar (selendroid-standalone), that
                contains all the dependencies.</p>

            <h1 id="systemRequirements">System requirements</h1>

            <ol>
                <li>Selendroid is tested to run on Mac, Linux and Windows.</li>
                <li>Java sdk (minimum 1.6) is installed and JAVA_HOME is configured</li>
                <li>Latest <a href="http://developer.android.com/sdk/index.html">Android-Sdk</a> is installed and
                    ANDROID_HOME is set.
                </li>
                <li>At least one Android virtual device must be existent or an Android hardware device must be plugged
                    in to the computer.
                    For best practices about Android devices please read <a href="#androidDevices">this section</a>.
                </li>
            </ol>
            <h1 id="getAut">Getting an application under test</h1>

            <p>Selendroid can be used to test already built apps. Those Android apps (apk file) must exists on the
                machine,
                where the selendroid server will be started. The reason for this is that a customized selendroid-server
                for the
                app under test will be created and both apps (selendroid server and AUT) must be signed with the same
                certificate
                in order to be able to install the apks on the device.</p>

            <p>When you want to play around with selendroid, you can use our app that we use to verify that actually
                selendroid works as expected. You can download this app <a
                        href="https://s3-us-west-1.amazonaws.com/selendroid/selendroid-test-app-0.5.1.apk">here</a>
            </p>

            <h1 id="launchingSelendroid">Launching selendroid</h1>

            <p>Download <a href="#download_me">selendroid-standalone.jar</a> (right top section of this page)</p>
            </p>
            cd to the folder where you downloaded the jar, and run
            <pre><code>java -jar selendroid-standalone-0.6.0-with-dependencies.jar \ 
            -app selendroid-test-app-0.6.0.apk</code></pre>

            <p>Selendroid-standalone will start a http server on port 5555 and will scan all Android virtual devices
                (avd)
                that the user has created (~/.android/avd/) and will identify the Android target version and the screen
                size.
                If an emulator is running, it will be ignored. If there are Android hardware devices be plugged in, they
                are
                added to the device store as well.</p>

            <p>You can check that the application and the devices are recognized by opening a browser and navigating to:
                <a href="http://localhost:5555/wd/hub/status">http://localhost:5555/wd/hub/status</a>.</p>

            <p>You should see a json object with all the info about the app.</p>
<pre><code>{
    status: 0,
    value: {
    "os": {
        "name": "Android"
    },
    "build": {
        "browserName": "selendroid",
        "version": "0.6.0"
    },
    "supportedApps": [{
        "appId": "io.selendroid.testapp:0.6.0",
        "mainActivity": "io.selendroid.testapp.HomeScreenActivity",
        "basePackage": "io.selendroid.testapp"
    }],
    "supportedDevices": [{
        "screenSize": "320x480",
        "targetPlatform": "ANDROID17",
        "emulator": true,
        "avdName": "latest"
    }, {
        "screenSize": "320x480",
        "targetPlatform": "ANDROID16",
        "emulator": true,
        "avdName": "es"
    }, {
        "screenSize": "320x480",
        "targetPlatform": "ANDROID10",
        "emulator": true,
        "avdName": "AVD_for_api10"
    }]
    }
}</code></pre>

            <h3>Command line parameters</h3>
            <h4>-port</h4>
            <p>Specify the port for selendroid to run on, the default is 5555.</p>
            
            <h4>-app, -aut</h4>
            <p>Location of the application under test. Absolute path expected.</p>
            
            <h4>-timeoutEmulatorStart</h4>
            <p>Specify the timeout in milliseconds to start emulators, the default is 300000.</p>

            <h4>-emulatorPort</h4>
            <p>Port number to start running emulators on.</p>

            <h4>-deviceScreenshot</h4>
            <p>This enables that screenshots will be taken on the device instead of using the ddmlib library.</p>

            <h4>-installedApp</h4>
            <p>For developers who already have the app installed (and emulator running) format = tld.company.app/ActivityClass:version</p>

            <h4>-verbose</h4>
            <p>Debug mode</p>

            <h2 id="firstTest">First Tests</h2>

            <p>The selendroid client libraries are as well part of the standalone jar.</p>
<pre><code>SelendroidCapabilities capa =
  SelendroidCapabilities.emulator(
    DeviceTargetPlatform.ANDROID18,
      "io.selendroid.testapp:0.6.0");

WebDriver driver = new SelendroidDriver("http://localhost:5555/wd/hub", capa);
WebElement inputField = driver.findElement(By.id("my_text_field"));
Assert.assertEquals("true", inputField.getAttribute("enabled"));
inputField.sendKeys("Selendroid");
Assert.assertEquals("Selendroid", inputField.getText());
driver.quit();</code></pre>
<p>If you prefer to write your tests in Python, you find the same test <a href="https://gist.github.com/DominikDary/6930396">here</a>.</p>
            <p>When starting a new test session in the capabilities the android target platform and the id of the
                specified app
                must be provided. Based on that information an matching Android device will identified. Otherwise the
                test session
                will not be started. Important: before filing a bug please make sure the desired capabilities in your 
                test are matching the on available on the <a href="http://localhost:5555/wd/hub/status">server</a>.
                </p>

            <p>After the found device has been initialized, a customized selendroid-server will be created and will
                automatically
                installed on the device. The app under test will be installed as well and then the selendroid-server on
                the device will be automatically started.</p>

            <p>After the test session has been successfully initialized, the test commands like finding an element and
                interact
                with this element are routed to this device. If the test session has ended, the emulator will be stopped
                automatically.</p>
            <h3>Additional parameters in the desired capabilities</h3>
            <p>Please note, that this parameters are all optional.</p>
            <h4>locale</h4>
            <p>Specify the locale of the device that should be used in the test session.
                If the device is an emulator, during start the locale will be automatically configured. E.g. <code>de_CH</code></p>

            <h4>screenSize</h4>
            <p>Specify the screen size of the device: e.g. <code>720x1280</code></p>

            <h4>display</h4>
            <p>Specify the display number that is used to start the emulator on. Supported only in Linux platforms. E.g. <code>1</code></p>

            <h4>preSessionAdbCommands</h4>
            <p>A list of adb commands that will be executed on the target device before selendroid-server will be started. E.g.
                <code>shell setprop name selendroid</code>, please note that the adb command itself and the
                serial will be added by selendroid automatically.</p>

            <h2 id="androidDevices">Devices</h2>

            <p>Selendroid supports testing on Hardware devices as well as using Android emulators.</p>

            <h3>
                Using Emulators
            </h3>

            <p>Selendroid is only able to start and stop Android Virtual Devices (Avd) that already exist. After an
                emulator has been created, it is recommended to do the first start manually to verify everything works
                fine. When creating avds please read the following configuration recommendations:</p>
            <ul>
                <li>Use whenever possible the Intel x86 ABI</li>
                <li>
                    Install
                    <a href="http://software.intel.com/en-us/articles/installation-instructions-for-intel-hardware-accelerated-execution-manager-microsoft">Intel
                        x86 Emulator Accelerator</a>
                    on Mac and Windows and use KVM on Linux to enable hardware acceleration to massively speed up the
                    Emulator
                </li>
                <li>Use at least 1024MB of RAM per emulator</li>
                <li>Use at least 32MB of VM Heap per emulator</li>
                <li>Configure the hardware keyboard to be used: <code>hw.keyboard=yes</code></li>
                <li>Use the Host GPU. If after the first start of the emulator only a black screen is displayed, please
                    deactivate this option.
                </li>
                <li>The number of emulators you can in parallel per machine depends heavily on the hardware of the
                    machine you use.
                </li>
            </ul>
            <h3>
                Using Hardware Devices
            </h3>
            <ul>
                <li>Please make sure the device has no screen lock configured.</li>
                <li>Devices must be plugged in via USB to the computer selendroid-standalone component is running on.
                </li>
            </ul>

        </section>

        <aside id="sidebar">
            <a id="download_me" href="#" class="button">Download</a>
            <div id="footer_wrap" class="outer"/>
        </aside>
    </div>
</div>
</body>
</html>
